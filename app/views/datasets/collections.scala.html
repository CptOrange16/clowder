@(dataset: Dataset, collectionsInside: List[models.Collection], collectionsOutside: List[models.Collection])(implicit user: Option[securesocial.core.Identity])

<div class="row border-top">
    <div class="col-md-12">
        <h4>Collections containing the dataset</h4>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <table id="collTable">
            @collectionsInside.map { collection =>
                <tr><td><a href="@(routes.Collections.collection(collection.id))">@collection.name</a></td>
                    <td><a href="#" class="requiresLogin" style="font-style : italic ;" onclick="removeCollection('@(collection.id)','@(collection.name)',event)">
                        Remove</a></td></tr>
            }
        </table>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="requiresLogin ui-widget requiresLoginCommunity" id="collectionsUi">
            <h5>Add to existing collection</h5>
            <div class="input-group input-group-sm col-md-8">
            <select id="collectionAddSelect" class="chosen-select">
            @collectionsOutside.map { collection =>
                @if(user.isDefined) {
                    @if(!collection.author.isDefined) {
                        <option value="@(collection.id)">@(collection.name)</option>
                    }
                    @if(collection.author.isDefined) {
                        @if(user.get.identityId.userId.equals(collection.author.get.identityId.userId)) {
                            <option value="@(collection.id)">@(collection.name)</option>
                        }
                    }
                }
            }
            </select>
            <span class="input-group-btn">
                <button class="btn btn-primary btn-large" id="addCollBtn" title="Add Dataset To Collection" style="vertical-align : center ;">
                    <span class="glyphicon glyphicon-plus"></span>
                </button>
            </span>
        </div>
    </div>
</div>
</div>

<script src="@routes.Assets.at("javascripts/chosen.jquery.js")" type="text/javascript"></script>
<script language="javascript">
  $(".chosen-select").chosen({no_results_text: "Not found. Press enter to add "});
</script>