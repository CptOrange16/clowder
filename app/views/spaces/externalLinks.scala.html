@(links: List[java.net.URL], space:models.ProjectSpace)(implicit user: Option[models.User])

@import api.Permission

<div class="row ds-section-sm break-word space-col-right">
<h3>External Links</h3>
@if(links.size == 0) {
    @if(Permission.checkPermission(Permission.EditSpace, ResourceRef(ResourceRef.space, space.id))) {
        <p>Edit @{spaces.spaceTitle()} to add links</p>
    } else {
        <p>No External Links</p>
    }
} else {
    <ul class="list-unstyled">
    @for(link <- links) {
        <li><a href="@link">@link</a></li>
    }
    </ul>
}
@if(space.isTrial){
    @if(play.Play.application().configuration().getBoolean("verifySpaces")) {
        <div id="verify">
            <h3>Status</h3>
            <p>@play.api.i18n.Messages("trial.space")</p>
            @if(api.Permission.checkServerAdmin(user)){
                <button class="btn btn-link" title="Verify this space" >
                    <span class="glyphicon glyphicon-ok" ></span> Verify</button>
            }
        </div>
    }
} else {
    @if(play.Play.application().configuration().getBoolean("enablePublic")) {
        <h3>Access</h3>
        @space.status.capitalize
    }
}

</div>
    <script>
        $("#verify").find("button").click(function() {
            var request = jsRoutes.api.Spaces.verifySpace("@space.id").ajax({
                type: 'PUT'
            });
            request.done(function(response, textStatus, jsXHR){
                $("#verify").hide();
                notify("@space.name"+" is verified and set to private", "success", false, 2000);
            });
            request.fail(function (jqXHR, textStatus, errorThrown){
                console.error("The following error occurred: " + textStatus, errorThrown);
                var errMsg = "You must be logged in to verify";
                if (!checkErrorAndRedirect(jqXHR, errMsg)) {
                    notify("Error in verifying due to : " + errorThrown, "error");
                }
            });
        });
    </script>
