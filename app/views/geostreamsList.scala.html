@main("Geostreams") {

 <link rel="stylesheet" href="@routes.Assets.at("stylesheets/leaflet.css")">
 <!--[if lte IE 8]>
     <link rel="stylesheet" href="@routes.Assets.at("stylesheets/leaflet.ie.css")">
 <![endif]-->
 <script src="@routes.Assets.at("javascripts/leaflet-src.js")" type="text/javascript"></script>

	<div class="page-header">
		<h1>Sensors</h1>
	</div>
	<table class="table table-striped table-hover table-bordered">
        <tr>
            <th>ID</th>
            <th>Sensor</th>
            <th>Source</th>
            <th>Lat, Long</th>
            <th>Parameters</th>
        </tr>
	</table>
}
<script language="javascript">
   $(function() {
	   var request = jsRoutes.api.Geostreams.searchSensors().ajax({
	       type: 'GET',
	       contentType: "application/json",
	       dataType: 'json',
	     });
	     
	     request.done(function (response, textStatus, jqXHR){
	        response.forEach(function(sensor) {
	            $('table tr:last').after("<tr> \
	                <td>" + sensor.id + "</td> \
	                <td>" + sensor.name + "</td> \
	                <td>" + sensor.properties.type.id + "</td> \
	                <td>lat: " + sensor.geometry.coordinates[1] + ", long: " + sensor.geometry.coordinates[0] + "</td> \
	                <td style='max-height: 100px'><div style='height: 100px; overflow: auto'>" + sensor.parameters.join("<br />") + "</div></td> \
	                </tr>");
	        });

	     });
	  
	     request.fail(function (jqXHR, textStatus, errorThrown){
	        console.error(
	            "The following error occured: "+
	            textStatus, errorThrown  
	        );
	     });
   });
</script>