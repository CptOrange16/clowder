@(datasets: List[models.Dataset], prev: String, next: String, limit: Int)(implicit user: Option[securesocial.core.Identity])

@main("Datasets") {

<div class="page-header">
  <h1>Datasets</h1>
</div>

<div class="row">
	<div class="col-md-12">
	<div class="container">
	<div class="row">
	<div class="col-md-12">
		<div id="masonry" class="js-masonry" data-masonry-options='{ "itemSelector": ".post-box", "columnWidth": ".post-box", "transitionDuration": 4 }'>
		@datasets.map { dataset =>
		  <div class="post-box col-lg-3 col-md-3 col-sm-3">
		  <div class="panel panel-default">

            <a href="#" title="Select" class="pull-right select" data-id="@dataset.id">
              <span class="glyphicon glyphicon-plus"></span>
            </a>

  			<div class="panel-body">
			  		@if(!dataset.thumbnail_id.isEmpty){
						<a href="@(routes.Datasets.dataset(dataset.id))">
							<img class="img-responsive" src="@(routes.Files.thumbnail(UUID(dataset.thumbnail_id.toString().substring(5,dataset.thumbnail_id.toString().length-1))))" alt="Thumbnail of @(dataset.name)">
						</a>
					}
			  	<div class="caption">
                    <h4><a href="@(routes.Datasets.dataset(dataset.id))">@dataset.name</a></h4>
                    <p>@util.Formatters.ellipsize(dataset.description, 200)</p>
                </div>
			</div>
              <!-- Dataset Info -->
              <ul class="list-group">
                  <li class="list-group-item">
                      <span class="glyphicon glyphicon glyphicon-file" title="@dataset.files.size files"></span> @dataset.files.size
                      <span class="glyphicon glyphicon glyphicon-tags" title="@dataset.tags.size tags"></span>  @dataset.tags.size
                      <span class="glyphicon glyphicon glyphicon-list" title="@dataset.userMetadata.keys.size metadata fields"></span>  @dataset.userMetadata.keys.size
                  </li>
              </ul>
			</div>
    	  </div>
		}
		</div>

        <ul class="pager">
            @if(prev != "") {
            <li class="previous"><a href="@(routes.Datasets.list("b", prev, limit))">Previous</a></li>
            }
            @if(next != "") {
            <li class ="next"><a href="@(routes.Datasets.list("a", next, limit))">Next</a></li>
            }
        </ul>

	</div>
	</div>
	</div>
	</div>
</div>
<script language="javascript">	
	var hostIp = "@play.Play.application().configuration().getString("hostIp")";
</script>
<script src="@routes.Assets.at("javascripts/datasetListProcess.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/lib/masonry.pkgd.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/lib/imagesloaded.pkgd.min.js")" type="text/javascript"></script>
<script src="@routes.Assets.at("javascripts/select.js")" type="text/javascript"></script>
}
