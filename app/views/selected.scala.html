@(datasets: List[Dataset])(implicit user: Option[securesocial.core.Identity])

@main("Selected Datasets") {
<script src="@routes.Assets.at("javascripts/jquery-ui-1.10.3.custom.min.js")" type="text/javascript"></script>

<div class="page-header">
	<h1>Selected Datasets</h1>
</div>

<div class="row">
	<div class="col-md-6">
		@for(d <- datasets) { @datasetInfo(d)</a> }
	</div>
	<div class="col-md-6">
		<div class="row">
			<div class="col-md-12">
				<h3>Add Relationship</h3>
			</div>
		</div>
		<div class="row">
			<div class="col-md-4">
				<div id="relate1" class="droppable">
				  <p>Drop here</p>
				</div>
			</div>
			<div class="col-md-4" style="vertical-align: middle;">
		      <select id ="relate" class="form-control">
			    <option>describes</option>
			    <option>duplicates</option>
			    <option>references</option>
			    <option>relates</option>
			 </select>
			</div>
			<div class="col-md-4">
				<div id="relate2" class="droppable">
				  <p>Drop here</p>
				</div>
			</div>
		</div>
	    <div class="row">
			<div class="col-md-12">
				<button type="button" class="btn btn-primary btn-lg">Create</button>
			</div>
		</div>
	</div>
</div>
<script>
$(function() {
    $( ".draggable" ).draggable({

    // brings the item back to its place when dragging is over
    revert:true,

    // once the dragging starts, we decrease the opactiy of other items
    // Appending a class as we do that with CSS
    drag:function () {
        $(this).addClass("active");
        $(this).closest("#product").addClass("active");
    },

    // removing the CSS classes once dragging is over.
    stop:function () {
        $(this).removeClass("active").closest("#product").removeClass("active");
    }
});
    $( "#relate1" ).droppable({
      drop: function( event, ui ) {
       var draggableId = ui.draggable.attr("id");
       var title = ui.draggable.find("a").text();
        $(this)
          .find("p")
            .html(title);
       console.log("Dropped " + draggableId + " into box 1");
      }
    });
    $( "#relate2" ).droppable({
      drop: function( event, ui ) {
       var draggableId = ui.draggable.attr("id");
       var title = ui.draggable.find("a").text();
        $(this)
          .find("p")
            .html(title);
       console.log("Dropped " + draggableId + " into box 2");
      }
    });
  });
  </script>
}
