@(item: AnyRef)

@import _root_.util.Formatters.ellipsize
    @item match {
        case dataset: models.Dataset => {
            <div class="post-box col-lg-3 col-md-3 col-sm-3">
                <div class="panel panel-default">
                    <div class="pull-right">
                        <a href="@(routes.Datasets.dataset(dataset.id))"><span class="glyphicon glyphicon-book" title="Dataset"></span></a>
                        <a href="#" title="Bookmark" class="pull-right bookmark-link"><span class="glyphicon glyphicon-bookmark bookmark"></span></a>
                    </div>
                    <div class="panel-body">
                        <div class="caption break-word">
                            <h4><a href="@(routes.Datasets.dataset(dataset.id))">@Html(dataset.name)</a></h4>
                            <p>@Html(ellipsize(dataset.description, 200))</p>
                        </div>
                    </div>
                    <!-- Dataset Info -->
                    <ul class="list-group">
                        <li class="list-group-item">
                            <span class="glyphicon glyphicon glyphicon-file" title="@dataset.files.size files"></span> @dataset.files.size
                            <span class="glyphicon glyphicon glyphicon-tags" title="@dataset.tags.size tags"></span>  @dataset.tags.size
                            <span class="glyphicon glyphicon glyphicon-list" title="@(dataset.metadata.keys.size + dataset.userMetadata.keys.size) metadata fields"></span>  @(dataset.metadata.keys.size + dataset.userMetadata.keys.size)
                        </li>
                    </ul>
                </div>
            </div>
        }
        case file: models.File => {
            <div class="post-box col-lg-3 col-md-3 col-sm-3">
                <div class="panel panel-default">
                    <div class="pull-right">
                        <a href="@(routes.Files.file(file.id))"><span class="glyphicon glyphicon-file" title="File"></span></a>
                        <a href="#" title="Bookmark" class="pull-right bookmark-link"><span class="glyphicon glyphicon-bookmark bookmark"></span></a>
                    </div>
                    <div class="panel-body">
                        @if(!file.thumbnail_id.isEmpty){
                            <a href="@(routes.Files.file(file.id))">
                                <img class="img-responsive" src="@(routes.Files.thumbnail(UUID(file.thumbnail_id.toString().substring(5,file.thumbnail_id.toString().length-1))))" alt="Thumbnail of @(file.filename)">
                            </a>
                        }
                    <div class="caption break-word">
                        <h4><a href="@(routes.Files.file(file.id))">@file.filename</a></h4>
                        <p>@ellipsize("", 200)</p>
                    </div>
                    </div>
                    <!-- File Info -->
                    <ul class="list-group">
                        <li class="list-group-item">
                            <span class="glyphicon glyphicon glyphicon-tags" title="@file.tags.size tags"></span>  @file.tags.size
                            <span class="glyphicon glyphicon glyphicon-list" title="@(file.metadataCount) metadata fields"></span>  @(file.metadataCount)
                        </li>
                    </ul>
                </div>
            </div>
        }
    }